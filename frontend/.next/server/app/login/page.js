(()=>{var e={};e.id=2626,e.ids=[2626],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7237:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(4687),r(179),r(5866);var t=r(3191),i=r(8716),a=r(7922),n=r.n(a),o=r(5231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(s,d);let l=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4687)),"/Users/khairallahmohammed/Documents/primini/frontend/app/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,179)),"/Users/khairallahmohammed/Documents/primini/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/khairallahmohammed/Documents/primini/frontend/app/login/page.tsx"],m="/login/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4665:(e,s,r)=>{Promise.resolve().then(r.bind(r,1129)),Promise.resolve().then(r.bind(r,933)),Promise.resolve().then(r.bind(r,6618))},1129:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(326),i=r(7577),a=r(434),n=r(6226),o=r(5047),d=r(4723),l=r(4064),c=r(732),m=r(4143);function u(){let e=(0,o.useRouter)(),{login:s}=(0,c.a)(),[r,u]=(0,i.useState)(null),{register:p,handleSubmit:x,formState:{errors:h,isSubmitting:f}}=(0,d.cI)({resolver:(0,l.F)(m.dm)}),g=async r=>{u(null);try{await s(r.email,r.password),e.push("/")}catch(e){if(console.warn("Failed to login",e),e.response?.data){let s=e.response.data,r="",t=(r="string"==typeof s?s:s.detail?s.detail:s.non_field_errors?Array.isArray(s.non_field_errors)?s.non_field_errors[0]:s.non_field_errors:s.email?Array.isArray(s.email)?s.email[0]:s.email:"Identifiants incorrects. Veuillez r\xe9essayer.").toLowerCase();t.includes("inactive")||t.includes("d\xe9sactiv\xe9")||t.includes("non actif")||t.includes("non activ\xe9")?u("Votre compte n'est pas encore activ\xe9. Un administrateur vous contactera d\xe8s que votre compte sera approuv\xe9."):u(r)}else u("Une erreur est survenue. Veuillez r\xe9essayer.")}};return(0,t.jsxs)("div",{className:"grid min-h-svh lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 bg-primary p-4 md:p-6",children:[t.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:t.jsx(a.default,{href:"/",className:"flex items-center gap-2 font-medium",children:t.jsx(n.default,{src:"/images/avito-colors.jpeg",alt:"Avita",width:120,height:40,className:"h-8 w-auto object-contain",priority:!0})})}),t.jsx("div",{className:"flex flex-1 items-center justify-center",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Connexion"}),t.jsx("p",{className:"text-sm text-white/80",children:"Ravi de vous revoir sur Avita"})]}),(0,t.jsxs)("form",{onSubmit:x(g),className:"space-y-4",children:[r&&t.jsx("div",{className:"rounded-md bg-red-500/20 border border-red-400/50 p-3 text-sm text-red-100",children:r}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"email",children:"Adresse email *"}),t.jsx("input",{id:"email",type:"email",...p("email"),className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${h.email?"border-red-400":""}`,placeholder:"votre@email.com"}),h.email&&t.jsx("p",{className:"mt-1 text-sm text-red-300",children:h.email.message})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"password",children:"Mot de passe *"}),t.jsx("input",{id:"password",type:"password",...p("password"),className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${h.password?"border-red-400":""}`,placeholder:"••••••••"}),h.password&&t.jsx("p",{className:"mt-1 text-sm text-red-300",children:h.password.message})]}),t.jsx("button",{type:"submit",className:"w-full rounded-lg bg-secondary px-4 py-2.5 text-sm font-semibold text-white hover:bg-secondary/90 disabled:opacity-60 disabled:cursor-not-allowed transition-colors shadow-lg",disabled:f,children:f?"Connexion...":"Se connecter"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx(a.default,{href:"/forgot-password",className:"text-white/80 hover:text-white transition-colors hover:underline",children:"Mot de passe oubli\xe9 ?"}),t.jsx(a.default,{href:"/register",className:"text-white/80 hover:text-white transition-colors hover:underline",children:"Cr\xe9er un compte"})]})]})]})})]}),t.jsx("div",{className:"bg-muted relative hidden lg:block",children:t.jsx(n.default,{src:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80",alt:"Cover",fill:!0,className:"object-cover",priority:!0})})]})}},4143:(e,s,r)=>{"use strict";r.d(s,{$T:()=>d,Iy:()=>i,cU:()=>o,dm:()=>a,xj:()=>l});var t=r(9969);let i=t.Ryn({name:t.Z_8().min(1,"Le nom du produit est requis").min(3,"Le nom doit contenir au moins 3 caract\xe8res").max(200,"Le nom ne peut pas d\xe9passer 200 caract\xe8res"),description:t.Z_8().min(1,"La description est requise").min(500,"La description doit contenir au moins 500 caract\xe8res").max(5e3,"La description ne peut pas d\xe9passer 5000 caract\xe8res"),brand:t.Z_8().max(120,"La marque ne peut pas d\xe9passer 120 caract\xe8res").optional().or(t.i0J("")),category_id:t.G0j([t.Rxh().positive("Cat\xe9gorie invalide"),t.qnd(),t.S1Z()]).transform(e=>"number"!=typeof e||isNaN(e)?void 0:e).optional(),image:t.Z_8().refine(e=>!e||t.Z_8().url().safeParse(e).success,"URL invalide").optional().or(t.i0J("")),tags:t.IXX(t.Z_8().min(1,"Les tags ne peuvent pas \xeatre vides")).max(20,"Maximum 20 tags autoris\xe9s").optional(),specs:t.IMB(t.Z_8(),t.G0j([t.Z_8(),t.Rxh(),t.O72()])).optional(),release_date:t.Z_8().refine(e=>!e||/^\d{4}-\d{2}-\d{2}$/.test(e),"Format de date invalide (YYYY-MM-DD)").optional().or(t.i0J("")),source_category:t.Z_8().max(150,"La cat\xe9gorie source ne peut pas d\xe9passer 150 caract\xe8res").optional().or(t.i0J(""))}),a=t.Ryn({email:t.Z_8().min(1,"L'adresse email est requise").email("Format d'email invalide"),password:t.Z_8().min(1,"Le mot de passe est requis").min(8,"Le mot de passe doit contenir au moins 8 caract\xe8res")}),n=t.Ryn({username:t.Z_8().min(1,"Le nom d'utilisateur est requis").min(3,"Le nom d'utilisateur doit contenir au moins 3 caract\xe8res").max(150,"Le nom d'utilisateur ne peut pas d\xe9passer 150 caract\xe8res").regex(/^[a-zA-Z0-9_]+$/,"Le nom d'utilisateur ne peut contenir que des lettres, chiffres et underscores"),email:t.Z_8().min(1,"L'adresse email est requise").email("Format d'email invalide"),password1:t.Z_8().min(1,"Le mot de passe est requis").min(8,"Le mot de passe doit contenir au moins 8 caract\xe8res").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"),password2:t.Z_8().min(1,"La confirmation du mot de passe est requise"),first_name:t.Z_8().min(1,"Le pr\xe9nom est requis").max(150,"Le pr\xe9nom ne peut pas d\xe9passer 150 caract\xe8res"),last_name:t.Z_8().min(1,"Le nom est requis").max(150,"Le nom ne peut pas d\xe9passer 150 caract\xe8res")}),o=n.extend({enterprise_name:t.Z_8().min(1,"Le nom de l'entreprise est requis").max(200,"Le nom de l'entreprise ne peut pas d\xe9passer 200 caract\xe8res"),address:t.Z_8().min(1,"L'adresse est requise").max(500,"L'adresse ne peut pas d\xe9passer 500 caract\xe8res"),phone_number:t.Z_8().min(1,"Le num\xe9ro de t\xe9l\xe9phone est requis").max(20,"Le num\xe9ro de t\xe9l\xe9phone ne peut pas d\xe9passer 20 caract\xe8res").regex(/^[\d\s\-\+\(\)]+$/,"Le num\xe9ro de t\xe9l\xe9phone contient des caract\xe8res invalides")}).refine(e=>e.password1===e.password2,{message:"Les mots de passe ne correspondent pas",path:["password2"]}),d=n.refine(e=>e.password1===e.password2,{message:"Les mots de passe ne correspondent pas",path:["password2"]});t.Ryn({threshold:t.Z_8().min(1,"Le prix seuil est requis").refine(e=>!isNaN(Number(e))&&Number(e)>0,"Le prix doit \xeatre un nombre positif")});let l=t.Ryn({url:t.Z_8().min(1,"L'URL est requise").url("Format d'URL invalide")});t.Ryn({file:t.PpW(File).refine(e=>e.size<=10485760,"Le fichier ne peut pas d\xe9passer 10MB").refine(e=>e.name.endsWith(".csv"),"Le fichier doit \xeatre un fichier CSV")})},4687:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});var t=r(9510);let i=(0,r(8318).default)(()=>r.e(55).then(r.bind(r,55)),{loadableGenerated:{modules:["app/login/page.tsx -> ../../components/screens/LoginScreen"]},ssr:!1});function a(){return t.jsx(i,{})}}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[9797,5414,8391],()=>r(7237));module.exports=t})();