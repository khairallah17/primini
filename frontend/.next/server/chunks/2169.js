exports.id=2169,exports.ids=[2169],exports.modules={9:(e,r,t)=>{Promise.resolve().then(t.bind(t,9959))},493:(e,r,t)=>{Promise.resolve().then(t.bind(t,2315)),Promise.resolve().then(t.bind(t,933)),Promise.resolve().then(t.bind(t,6618))},9959:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(326),a=t(5047),i=t(732),o=t(9965),n=t(2056);function l({children:e}){let r=(0,a.usePathname)(),{isAdmin:t}=(0,i.a)(),l=r?.includes("/products/")&&r?.includes("/edit");return t&&r&&(["/products/create","/products/upload"].includes(r)||l)?s.jsx(o.Z,{requireAuth:!0,requireClientOrAdmin:!0,children:s.jsx(n.Z,{children:e})}):s.jsx(o.Z,{requireAuth:!0,requireClientOrAdmin:!0,children:e})}},9965:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var s=t(326);t(7577);var a=t(5047),i=t(732);function o({children:e,requireAuth:r=!1,requireAdmin:t=!1,requireClient:o=!1,requireClientOrAdmin:n=!1,redirectTo:l="/login"}){(0,a.useRouter)();let{user:d,loading:c,isAdmin:m,isClient:u,isVisitor:p}=(0,i.a)();return c?s.jsx("div",{className:"flex min-h-screen items-center justify-center",children:s.jsx("div",{className:"text-lg",children:"Chargement..."})}):(!r||d)&&(!t||m)&&(!o||u)&&(!n||u||m)?s.jsx(s.Fragment,{children:e}):null}},2056:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var s=t(326),a=t(7577),i=t(434),o=t(6226),n=t(5047),l=t(732);let d=[{title:"Tableau de bord",href:"/admin",icon:"\uD83D\uDCCA"},{title:"Gestion des produits",items:[{title:"Tous les produits",href:"/admin"},{title:"Cr\xe9er un produit",href:"/products/create"},{title:"Importer CSV",href:"/products/upload"}],icon:"\uD83D\uDCE6"},{title:"Gestion des utilisateurs",href:"/admin/users",icon:"\uD83D\uDC65"},{title:"Configuration AdSense",href:"/admin/adsense",icon:"\uD83D\uDCB0"}];function c({children:e}){let r=(0,n.usePathname)(),{user:t}=(0,l.a)(),[c,m]=(0,a.useState)(!0),u=e=>"/admin"===e?"/admin"===r:"/admin/users"===e?r.startsWith("/admin/users"):r.startsWith(e);return(0,s.jsxs)("div",{className:"flex h-screen w-full overflow-hidden bg-gray-50",children:[(0,s.jsxs)("aside",{className:`${c?"w-64":"w-20"} fixed left-0 top-0 z-50 h-screen bg-primary border-r border-primary-dark/30 transition-all duration-300 flex flex-col shadow-lg`,children:[(0,s.jsxs)("div",{className:"flex h-24 items-center justify-between border-b border-primary-dark/30 px-4",children:[s.jsx(i.default,{href:"/",className:`flex items-center ${c?"justify-start":"justify-center"} flex-1`,children:s.jsx(o.default,{src:"/images/avito-colors.jpeg",alt:"Avita",width:c?180:50,height:c?60:50,className:`${c?"h-16 w-auto":"h-12 w-12"} object-contain transition-all`,priority:!0})}),s.jsx("button",{onClick:()=>m(!c),className:"rounded-md p-2 text-white/80 hover:bg-primary-dark/30 hover:text-white transition-colors","aria-label":"Toggle sidebar",children:c?s.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):s.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto px-3 py-4",children:s.jsx("ul",{className:"space-y-1",children:d.map((e,r)=>e.items?(0,s.jsxs)("li",{children:[(0,s.jsxs)("div",{className:`flex items-center gap-3 px-3 py-2 text-sm font-medium text-white/90 ${!c&&"justify-center"}`,children:[s.jsx("span",{className:"text-lg",children:e.icon}),c&&s.jsx("span",{children:e.title})]}),c&&s.jsx("ul",{className:"ml-6 mt-1 space-y-1",children:e.items.map(e=>s.jsx("li",{children:s.jsx(i.default,{href:e.href,className:`block rounded-md px-3 py-2 text-sm transition-colors ${u(e.href)?"bg-white/20 text-white font-medium":"text-white/70 hover:bg-white/10 hover:text-white"}`,children:e.title})},e.href))})]},r):s.jsx("li",{children:(0,s.jsxs)(i.default,{href:e.href,className:`flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors ${u(e.href)?"bg-white/20 text-white":"text-white/80 hover:bg-white/10 hover:text-white"} ${!c&&"justify-center"}`,children:[s.jsx("span",{className:"text-lg",children:e.icon}),c&&s.jsx("span",{children:e.title})]})},e.href))})}),c&&t&&s.jsx("div",{className:"border-t border-primary-dark/30 p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 text-white font-semibold",children:(t.first_name?.[0]||t.username?.[0]||t.email[0]||"U").toUpperCase()}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"truncate text-sm font-medium text-white",children:t.first_name&&t.last_name?`${t.first_name} ${t.last_name}`:t.username||t.email}),s.jsx("p",{className:"truncate text-xs text-white/70",children:t.email})]})]})})]}),s.jsx("div",{className:`flex-1 w-full h-screen overflow-y-auto transition-all duration-300 ${c?"ml-64":"ml-20"}`,style:{marginTop:0},children:s.jsx("div",{className:"h-full w-full",children:e})})]})}},2315:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(326),a=t(7577),i=t(5047),o=t(4723),n=t(4064),l=t(732);t(9806),t(2543);var d=t(4143);let c=["Samsung","Apple","LG","Sony","HP","Dell","Lenovo","Asus","Acer","Microsoft","Canon","Nikon","Panasonic","Philips","Bosch","Whirlpool","Electrolux","Tefal","SEB","Moulinex","Xiaomi","Huawei","Oppo","OnePlus","Realme","Vivo","Motorola","Nokia","Google","Amazon","JBL","Bose","Sennheiser","Logitech","Razer","Corsair","HyperX","SteelSeries","Intel","AMD","NVIDIA","Western Digital","Seagate","Kingston","SanDisk","Crucial","Garmin","Fitbit","Apple Watch","Samsung Galaxy","iPad","Surface","MacBook","ThinkPad","Alienware","ROG","Predator","Nitro","Inspiron","XPS","Vostro","Latitude","Yoga","IdeaPad","Legion","ZenBook","VivoBook","TUF","ProArt","Chromebook","AirPods","Beats","Sony WH","Sony WF","Bose QuietComfort","Bose SoundLink","JBL Flip","JBL Charge","UE Boom","Anker","Belkin","Mophie","Spigen","OtterBox","Case-Mate","Incipio","Tech21","ZAGG","Tempered Glass","Screen Protector","Wireless Charger","Power Bank","USB-C Cable","Lightning Cable","HDMI Cable","Ethernet Cable","Router","Modem","Switch","Access Point","Range Extender","Mesh System","Smart Home","Smart Speaker","Smart Display","Smart Thermostat","Smart Lock","Smart Camera","Smart Doorbell","Smart Light","Smart Plug","Smart Switch","Smart Hub","HomeKit","Alexa","Google Home","Nest","Ring","Arlo","Wyze","Eufy","TP-Link","Netgear","Linksys","ASUS Router","D-Link","Zyxel","Ubiquiti","MikroTik","Fritz!Box","AVM","Speedport","Easybox","Magenta","Orange","SFR","Bouygues","Free","Red","Sosh","B&You","La Poste Mobile","NRJ Mobile","Prixtel","Cdiscount Mobile","Lebara","LycaMobile","Vectone","Reglo Mobile","Cora Mobile","Auchan Mobile","Carrefour Mobile","Leclerc Mobile","Intermarch\xe9 Mobile","Syst\xe8me U Mobile","Casino Mobile","Monoprix Mobile","Fnac Mobile","Darty Mobile","Boulanger Mobile","LDLC Mobile","Materiel.net Mobile","Rue du Commerce Mobile","Cdiscount","Amazon","Fnac","Darty","Boulanger","LDLC","Materiel.net","Rue du Commerce","Rakuten","eBay","AliExpress","Wish","Veepee","Vente-privee.com","Showroomprive.com","Brandalley","Spartoo","Zalando","ASOS","Vinted","Le Bon Coin","Leboncoin","Facebook Marketplace","Marketplace","Autre"].sort();function m(){let e=(0,i.useRouter)(),r=(0,i.useParams)(),{tokens:t}=(0,l.a)(),m=r?.slug,u=!!m,[p,h]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),[f,b]=(0,a.useState)(null),[y,v]=(0,a.useState)(null),[j,w]=(0,a.useState)([]),[N,k]=(0,a.useState)([]),[_,L]=(0,a.useState)(null),[C,S]=(0,a.useState)(""),[M,$]=(0,a.useState)([]),[A,D]=(0,a.useState)([]),[B,Z]=(0,a.useState)([]),[z,P]=(0,a.useState)([]),[R,E]=(0,a.useState)([]),[F,q]=(0,a.useState)(0),[T,W]=(0,a.useState)("select"),[I,U]=(0,a.useState)(""),[G,O]=(0,a.useState)(!1),[V,J]=(0,a.useState)(""),[H,Y]=(0,a.useState)(!1),[X,K]=(0,a.useState)({}),[Q,ee]=(0,a.useState)({}),[er,et]=(0,a.useState)({}),[es,ea]=(0,a.useState)([{merchant_id:"",merchant_name:"",price:"",url:"",stock_status:"in_stock",currency:"MAD"}]),ei=I?c.filter(e=>e.toLowerCase().includes(I.toLowerCase())):c,eo=V?j.filter(e=>e.name.toLowerCase().includes(V.toLowerCase())):j,en=e=>{let r=Q[e]||"";return r?N.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())):N},{register:el,handleSubmit:ed,formState:{errors:ec},setValue:em,watch:eu,reset:ep}=(0,o.cI)({resolver:(0,n.F)(d.Iy),defaultValues:{name:"",description:"",brand:"",category_id:void 0,image:"",tags:[],specs:{},release_date:""}}),eh=eu("tags");eu("image"),(0,a.useCallback)(async(e,r)=>{if(t?.key){h(!0);try{let s=await fetch(`http://api.azyo6271.odns.fr//products/${e}/`,{headers:{Authorization:`Token ${t.key}`}});if(!s.ok)throw Error("Failed to load product");let a=await s.json();if(L(a),ep({name:a.name||"",description:a.description||"",brand:a.brand||"",category_id:a.category?.id,image:a.image||"",tags:a.tags||[],specs:a.specs||{},release_date:a.release_date||""}),a.brand){let e=c.includes(a.brand);W(e?"select":"manual"),e&&U(a.brand)}else W("select"),U("");if(a.images&&a.images.length>0){let e=[...a.images].sort((e,r)=>(e.order||0)-(r.order||0)).map(e=>e.image_url||e.image||"").filter(e=>e&&(e.startsWith("http://")||e.startsWith("https://")));P(e),E(e)}else if(a.image){let e=a.image;e&&(e.startsWith("http://")||e.startsWith("https://"))&&(P([e]),E([e]))}if(a.offers&&a.offers.length>0){let e=a.offers.map((e,t)=>{let s={merchant_id:e.merchant?.id||"",merchant_name:"",price:e.price?.toString()||"",url:e.url||"",stock_status:e.stock_status||"in_stock",currency:e.currency||"MAD"};return e.merchant?.id&&(r.some(r=>r.id===e.merchant.id)?K(e=>({...e,[t]:"select"})):(K(e=>({...e,[t]:"manual"})),s.merchant_name=e.merchant.name,s.merchant_id="")),s});ea(e)}else ea([{merchant_id:"",merchant_name:"",price:"",url:"",stock_status:"in_stock",currency:"MAD"}])}catch(e){console.error("Failed to load product",e),b("Erreur lors du chargement du produit")}finally{h(!1)}}},[t,ep]);let eg=e=>{es.length>1&&ea(es.filter((r,t)=>t!==e))},ex=(e,r,t)=>{let s=[...es];s[e]={...s[e],[r]:t},ea(s)},ef=async r=>{b(null),v(null),x(!0);try{if(!t?.key)throw Error("Non authentifi\xe9");let s=es.filter(e=>{let r=""!==e.merchant_id&&null!==e.merchant_id&&void 0!==e.merchant_id||e.merchant_name&&""!==e.merchant_name.trim(),t=e.price&&""!==e.price.toString().trim()&&!isNaN(Number(e.price))&&Number(e.price)>0;return r&&t}).map(e=>({merchant_id:""!==e.merchant_id&&"number"==typeof e.merchant_id?e.merchant_id:void 0,merchant_name:e.merchant_name&&""!==e.merchant_name.trim()?e.merchant_name.trim():void 0,price:Number(e.price),url:e.url&&""!==e.url.trim()?e.url.trim():void 0,stock_status:e.stock_status||"in_stock",currency:e.currency||"MAD"})),a=new FormData;a.append("name",r.name),r.description&&a.append("description",r.description),r.brand&&a.append("brand",r.brand),r.category_id&&a.append("category_id",r.category_id.toString()),r.image&&a.append("image",r.image),r.tags&&r.tags.length>0&&r.tags.forEach(e=>a.append("tags",e)),r.specs&&a.append("specs",JSON.stringify(r.specs)),r.release_date&&a.append("release_date",r.release_date),B.forEach(e=>{a.append("images",e)}),R.forEach(e=>{a.append("image_urls",e)}),u?s.length>0&&s.forEach((e,r)=>{e.merchant_id&&a.append(`offers[${r}][merchant_id]`,e.merchant_id.toString()),e.merchant_name&&a.append(`offers[${r}][merchant_name]`,e.merchant_name),a.append(`offers[${r}][price]`,e.price.toString()),e.url&&a.append(`offers[${r}][url]`,e.url),e.stock_status&&a.append(`offers[${r}][stock_status]`,e.stock_status),e.currency&&a.append(`offers[${r}][currency]`,e.currency)}):s.length>0&&s.forEach((e,r)=>{e.merchant_id&&a.append(`offers[${r}][merchant_id]`,e.merchant_id.toString()),e.merchant_name&&a.append(`offers[${r}][merchant_name]`,e.merchant_name),a.append(`offers[${r}][price]`,e.price.toString()),e.url&&a.append(`offers[${r}][url]`,e.url),e.stock_status&&a.append(`offers[${r}][stock_status]`,e.stock_status),e.currency&&a.append(`offers[${r}][currency]`,e.currency)});let i="http://api.azyo6271.odns.fr//products/",o=u&&m?`${i}${m}/`:i,n=await fetch(o,{method:u&&m?"PUT":"POST",headers:{Authorization:`Token ${t.key}`},body:a});if(!n.ok){let e=await n.json().catch(()=>({}));if(console.error("Update error:",e),e.offers){let r=e.offers.map((e,r)=>`Offre ${r+1}: ${JSON.stringify(e)}`).join("\n");throw Error(`Erreurs de validation des offres:
${r}`)}throw Error(e.detail||e.message||JSON.stringify(e)||"Une erreur est survenue")}u&&m?v("Produit mis \xe0 jour avec succ\xe8s!"):v("Produit cr\xe9\xe9 avec succ\xe8s! En attente d'approbation."),setTimeout(()=>{e.push("/")},2e3)}catch(e){b(e.message||"Une erreur est survenue")}finally{x(!1)}},eb=e=>{let r=(e||C).trim().toLowerCase();if(r){let e=eh||[];e.map(e=>e.toLowerCase()).includes(r)||(em("tags",[...e,r],{shouldValidate:!0}),S(""),D([]))}},ey=e=>{if(S(e),e.trim().length>0){let r=e.trim().toLowerCase();D(M.filter(e=>e.includes(r)&&!(eh||[]).map(e=>e.toLowerCase()).includes(e)).slice(0,5))}else D([])},ev=e=>{em("tags",(eh||[]).filter(r=>r!==e),{shouldValidate:!0})},ej=e=>{let r=z[e];if(R.includes(r))E(R.filter((r,t)=>z.findIndex(e=>e===R[t])!==e));else{let r=z.slice(0,e).filter(e=>!R.includes(e)).length;Z(B.filter((e,t)=>t!==r))}let t=z.filter((r,t)=>t!==e);P(t),F>=t.length&&t.length>0?q(t.length-1):0===t.length&&q(0)};return p?s.jsx("div",{className:"flex min-h-screen items-center justify-center",children:s.jsx("div",{className:"text-lg",children:"Chargement..."})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"mx-auto max-w-4xl",children:(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:u?"Modifier le produit":"Cr\xe9er un nouveau produit"}),f&&s.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4 text-red-800",children:f}),y&&s.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4 text-green-800",children:y}),_&&"pending"===_.approval_status&&s.jsx("div",{className:"mb-4 rounded-md bg-yellow-50 p-4 text-yellow-800",children:"Ce produit est en attente d'approbation."}),(0,s.jsxs)("form",{onSubmit:ed(ef),className:"space-y-6",children:[(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations du produit"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Nom du produit *"}),s.jsx("input",{type:"text",id:"name",...el("name"),className:`mt-1 block w-full rounded-lg border-2 px-4 py-2.5 text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 ${ec.name?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-primary/30 focus:border-primary focus:ring-primary bg-white"}`,placeholder:"Entrez le nom du produit"}),ec.name&&s.jsx("p",{className:"mt-1.5 text-sm font-medium text-red-600",children:ec.name.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Description *",s.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"(Minimum 500 caract\xe8res)"})]}),s.jsx("textarea",{id:"description",rows:6,...el("description"),className:`mt-1 block w-full rounded-lg border-2 px-4 py-2.5 text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 resize-y ${ec.description?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-primary/30 focus:border-primary focus:ring-primary bg-white"}`,placeholder:"D\xe9crivez le produit en d\xe9tail (minimum 500 caract\xe8res)..."}),(0,s.jsxs)("div",{className:"mt-1.5 flex items-center justify-between",children:[ec.description?s.jsx("p",{className:"text-sm font-medium text-red-600",children:ec.description.message}):(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[eu("description")?.length||0," / 500 caract\xe8res minimum"]}),eu("description")&&eu("description").length>=500&&s.jsx("p",{className:"text-xs text-green-600 font-medium",children:"âœ“ Longueur suffisante"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"brand",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Marque"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{W("select"),U(""),c.includes(eu("brand")||"")||em("brand","")},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${"select"===T?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Liste"}),s.jsx("button",{type:"button",onClick:()=>{W("manual"),U(""),O(!1)},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${"manual"===T?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Autre"})]}),"select"===T?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"text",id:"brand",value:eu("brand")||I,onChange:e=>{let r=e.target.value;U(r),em("brand",r),O(!0)},onFocus:()=>{O(!0)},onBlur:()=>{setTimeout(()=>{O(!1);let e=eu("brand")||"";if(e&&!c.some(r=>r.toLowerCase()===e.toLowerCase()));else if(e){let r=c.find(r=>r.toLowerCase()===e.toLowerCase());r&&(em("brand",r),U(""))}},200)},placeholder:"Rechercher ou s\xe9lectionner une marque...",className:`block w-full rounded-lg border-2 px-4 py-2.5 pr-10 text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 ${ec.brand?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-primary/30 focus:border-primary focus:ring-primary bg-white"}`}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),G&&(ei.length>0||I)&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border-2 border-primary/30 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ei.length>0?ei.map(e=>s.jsx("button",{type:"button",onMouseDown:r=>{r.preventDefault(),em("brand",e),U(""),O(!1)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-primary/10 hover:text-primary transition-colors border-b border-gray-100 last:border-b-0",children:e},e)):s.jsx("div",{className:"px-4 py-2.5 text-sm text-gray-500",children:'Aucune marque trouv\xe9e. Utilisez le bouton "Autre" pour ajouter une nouvelle marque.'})})]}):s.jsx("input",{type:"text",id:"brand",...el("brand"),className:`block w-full rounded-lg border-2 px-4 py-2.5 text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 ${ec.brand?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-primary/30 focus:border-primary focus:ring-primary bg-white"}`,placeholder:"Entrez le nom de la marque"})]}),ec.brand&&s.jsx("p",{className:"mt-1.5 text-sm font-medium text-red-600",children:ec.brand.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Cat\xe9gorie"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"text",id:"category",value:j.find(e=>e.id===eu("category_id"))?.name||V,onChange:e=>{let r=e.target.value;J(r),Y(!0);let t=j.find(e=>e.name.toLowerCase()===r.toLowerCase());t?(em("category_id",t.id),J(""),Y(!1)):em("category_id",void 0)},onFocus:()=>{Y(!0)},onBlur:()=>{setTimeout(()=>{Y(!1);let e=eu("category_id");e&&j.find(r=>r.id===e)&&J("")},200)},placeholder:"Rechercher ou s\xe9lectionner une cat\xe9gorie...",className:`block w-full rounded-lg border-2 px-4 py-2.5 pr-10 text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 ${ec.category_id?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-primary/30 focus:border-primary focus:ring-primary bg-white"}`}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),H&&(eo.length>0||V)&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border-2 border-primary/30 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:eo.length>0?eo.map(e=>s.jsx("button",{type:"button",onMouseDown:r=>{r.preventDefault(),em("category_id",e.id),J(""),Y(!1)},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-primary/10 hover:text-primary transition-colors border-b border-gray-100 last:border-b-0",children:e.name},e.id)):s.jsx("div",{className:"px-4 py-2.5 text-sm text-gray-500",children:"Aucune cat\xe9gorie trouv\xe9e"})})]}),ec.category_id&&s.jsx("p",{className:"mt-1.5 text-sm font-medium text-red-600",children:ec.category_id.message})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"images",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Images du produit *",s.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"(Vous pouvez t\xe9l\xe9charger plusieurs images)"})]}),(0,s.jsxs)("div",{className:"mt-1",children:[s.jsx("input",{type:"file",id:"images",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:e=>{let r=Array.from(e.target.files||[]);if(0===r.length)return;let t=r.filter(e=>["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type));if(t.length!==r.length){b("Certains fichiers ne sont pas des images valides (JPEG, PNG, WebP, GIF uniquement)");return}if(t.filter(e=>e.size>5242880).length>0){b("Certaines images sont trop volumineuses (maximum 5MB par image)");return}Z([...B,...t]);let s=[];t.forEach(e=>{let r=new FileReader;r.onload=e=>{let r=e.target?.result;s.push(r),P([...z,...s])},r.readAsDataURL(e)})},className:"hidden"}),s.jsx("label",{htmlFor:"images",className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-primary/30 rounded-lg bg-primary/5 hover:bg-primary/10 cursor-pointer transition-colors",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-primary",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:[s.jsx("span",{className:"font-semibold text-primary",children:"Cliquez pour t\xe9l\xe9charger"})," ou glissez-d\xe9posez"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, WebP, GIF jusqu'\xe0 5MB"})]})})]}),z.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[s.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",style:{aspectRatio:"16/9"},children:(0,s.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsx("img",{src:z[F],alt:`Image ${F+1}`,className:"max-w-full max-h-full object-contain",onError:e=>{let r=e.target;r.style.display="none";let t=r.parentElement;if(t&&!t.querySelector(".image-error")){let e=document.createElement("div");e.className="image-error text-red-500 text-sm p-4 text-center",e.textContent="Impossible de charger cette image",t.appendChild(e)}},onLoad:e=>{let r=e.target,t=r.parentElement,s=t?.querySelector(".image-error");s&&s.remove(),r.style.display="block"}}),z.length>1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>{z.length>0&&q(e=>(e-1+z.length)%z.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-2 shadow-lg transition-colors","aria-label":"Image pr\xe9c\xe9dente",children:s.jsx("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("button",{type:"button",onClick:()=>{z.length>0&&q(e=>(e+1)%z.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-2 shadow-lg transition-colors","aria-label":"Image suivante",children:s.jsx("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),z.length>1&&(0,s.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/60 text-white px-3 py-1 rounded-full text-sm",children:[F+1," / ",z.length]})]})}),s.jsx("div",{className:"mt-3 flex gap-2 overflow-x-auto pb-2",children:z.map((e,r)=>(0,s.jsxs)("div",{className:`relative flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 cursor-pointer transition-all ${r===F?"border-primary ring-2 ring-primary ring-offset-2":"border-gray-200 hover:border-primary/50"}`,onClick:()=>q(r),children:[s.jsx("img",{src:e,alt:`Thumbnail ${r+1}`,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}}),s.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),ej(r)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors","aria-label":"Supprimer l'image",children:s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},r))})]}),(0,s.jsxs)("div",{className:"mt-4",children:[s.jsx("label",{htmlFor:"image_url",className:"block text-xs font-medium text-gray-600 mb-1",children:"Ou URL de l'image (optionnel)"}),s.jsx("input",{type:"url",id:"image_url",...el("image"),className:`block w-full rounded-lg border-2 px-4 py-2 text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 ${ec.image?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-primary/30 focus:border-primary focus:ring-primary bg-white"}`,placeholder:"https://example.com/image.jpg"}),ec.image&&s.jsx("p",{className:"mt-1.5 text-sm font-medium text-red-600",children:ec.image.message})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"release_date",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Date de sortie (YYYY-MM-DD)"}),s.jsx("input",{type:"date",id:"release_date",...el("release_date"),className:`mt-1 block w-full rounded-lg border-2 px-4 py-2.5 text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 ${ec.release_date?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-primary/30 focus:border-primary focus:ring-primary bg-white"}`}),ec.release_date&&s.jsx("p",{className:"mt-1.5 text-sm font-medium text-red-600",children:ec.release_date.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"tags",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Tags",s.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"(Appuyez sur Entr\xe9e ou utilisez une virgule pour ajouter)"})]}),(0,s.jsxs)("div",{className:"mt-1 relative",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",id:"tags",value:C,onChange:e=>ey(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),A.length>0?eb(A[0]):eb()):(","===e.key||";"===e.key)&&(e.preventDefault(),eb())},placeholder:"Tapez un tag et appuyez sur Entr\xe9e...",className:"w-full rounded-lg border-2 border-primary/30 px-4 py-2.5 text-sm transition-colors focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary focus:ring-offset-1 bg-white"}),A.length>0&&s.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:A.map(e=>s.jsx("button",{type:"button",onClick:()=>eb(e),className:"w-full text-left px-3 py-2 text-sm hover:bg-primary/10 hover:text-primary transition-colors",children:e},e))})]}),s.jsx("button",{type:"button",onClick:()=>eb(),disabled:!C.trim(),className:"rounded-lg bg-primary px-6 py-2.5 text-sm font-semibold text-white hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Ajouter"})]}),ec.tags&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:ec.tags.message}),eh&&eh.length>0&&s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:eh.map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1.5 text-sm font-medium text-primary border border-primary/20",children:[e,s.jsx("button",{type:"button",onClick:()=>ev(e),className:"text-primary hover:text-primary/80 font-bold text-base leading-none","aria-label":`Supprimer le tag ${e}`,children:"\xd7"})]},e))}),M.length>0&&0===C.length&&(0,s.jsxs)("p",{className:"mt-2 text-xs text-gray-500",children:["Tags populaires: ",M.slice(0,10).join(", "),M.length>10&&"..."]})]})]})]})]}),(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Liens de comparaison"}),s.jsx("button",{type:"button",onClick:()=>{ea([...es,{merchant_id:"",merchant_name:"",price:"",url:"",stock_status:"in_stock",currency:"MAD"}])},className:"rounded-md bg-primary px-4 py-2 text-sm font-medium text-white hover:bg-primary/90",children:"+ Ajouter un lien"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Ajoutez plusieurs liens de marchands pour permettre la comparaison des prix."}),s.jsx("div",{className:"space-y-4",children:es.map((e,r)=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-sm font-medium text-gray-700",children:["Lien ",r+1]}),es.length>1&&s.jsx("button",{type:"button",onClick:()=>eg(r),className:"text-sm text-red-600 hover:text-red-800",children:"Supprimer"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Marchand *"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{K(e=>({...e,[r]:"select"})),ee(e=>({...e,[r]:""}));let t=e.merchant_id;t&&"number"==typeof t&&!N.find(e=>e.id===t)&&ex(r,"merchant_id","")},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${"select"===(X[r]||"select")?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Liste"}),s.jsx("button",{type:"button",onClick:()=>{K(e=>({...e,[r]:"manual"})),ee(e=>({...e,[r]:""})),et(e=>({...e,[r]:!1})),ex(r,"merchant_id","")},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${"manual"===(X[r]||"select")?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Autre"})]}),"select"===(X[r]||"select")?(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"text",value:e.merchant_id&&"number"==typeof e.merchant_id?N.find(r=>r.id===e.merchant_id)?.name||Q[r]||"":Q[r]||"",onChange:e=>{let t=e.target.value;ee(e=>({...e,[r]:t}));let s=N.find(e=>e.name.toLowerCase()===t.toLowerCase());s?(ex(r,"merchant_id",s.id),ee(e=>({...e,[r]:""})),et(e=>({...e,[r]:!1}))):(ex(r,"merchant_id",""),et(e=>({...e,[r]:!0})))},onFocus:()=>{(Q[r]||!e.merchant_id)&&et(e=>({...e,[r]:!0}))},onBlur:()=>{setTimeout(()=>{et(e=>({...e,[r]:!1})),Q[r]&&!N.some(e=>e.name.toLowerCase()===Q[r]?.toLowerCase())&&ee(e=>({...e,[r]:""}))},200)},placeholder:"Rechercher ou s\xe9lectionner un marchand...",className:`block w-full rounded-lg border-2 px-4 py-2.5 text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 ${e.merchant_id||0!==r?"border-primary/30 focus:border-primary focus:ring-primary bg-white":"border-red-500 focus:border-red-500 focus:ring-red-500"}`}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),er[r]&&(en(r).length>0||Q[r])&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border-2 border-primary/30 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:en(r).length>0?en(r).map(e=>s.jsx("button",{type:"button",onMouseDown:t=>{t.preventDefault(),ex(r,"merchant_id",e.id),ee(e=>({...e,[r]:""})),et(e=>({...e,[r]:!1}))},className:"w-full text-left px-4 py-2.5 text-sm hover:bg-primary/10 hover:text-primary transition-colors border-b border-gray-100 last:border-b-0",children:e.name},e.id)):s.jsx("div",{className:"px-4 py-2.5 text-sm text-gray-500",children:'Aucun marchand trouv\xe9. Utilisez le bouton "Autre" pour ajouter un nouveau marchand.'})})]}):s.jsx("input",{type:"text",value:e.merchant_name||"",onChange:e=>{let t=[...es];t[r]={...t[r],merchant_name:e.target.value},ea(t)},placeholder:"Entrez le nom du marchand manuellement",className:"block w-full rounded-lg border-2 px-4 py-2.5 text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 border-primary/30 focus:border-primary focus:ring-primary bg-white"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Prix (MAD) *"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:e.price,onChange:e=>ex(r,"price",e.target.value),className:"w-full rounded-lg border-2 border-primary/30 px-4 py-2.5 text-sm transition-colors focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary focus:ring-offset-1 bg-white",placeholder:"0.00",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"URL du produit"}),s.jsx("input",{type:"url",value:e.url,onChange:e=>ex(r,"url",e.target.value),className:"w-full rounded-lg border-2 border-primary/30 px-4 py-2.5 text-sm transition-colors focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary focus:ring-offset-1 bg-white",placeholder:"https://..."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Statut du stock"}),(0,s.jsxs)("select",{value:e.stock_status,onChange:e=>ex(r,"stock_status",e.target.value),className:"w-full rounded-lg border-2 border-primary/30 px-4 py-2.5 text-sm transition-colors focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary focus:ring-offset-1 bg-white",children:[s.jsx("option",{value:"in_stock",children:"En stock"}),s.jsx("option",{value:"low_stock",children:"Stock faible"}),s.jsx("option",{value:"out_of_stock",children:"Rupture de stock"})]})]})]})]},r))})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>e.back(),className:"rounded-lg border-2 border-gray-300 bg-white px-6 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:g,className:"rounded-lg bg-primary px-6 py-2.5 text-sm font-semibold text-white hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:g?"Enregistrement...":u?"Mettre \xe0 jour":"Cr\xe9er le produit"})]})]})]})})})}function u(){return s.jsx(m,{})}},9806:(e,r,t)=>{"use strict";t.d(r,{BB:()=>n,Dg:()=>c,EE:()=>m,ch:()=>o,ex:()=>d,g4:()=>i,h7:()=>l,kR:()=>u,t$:()=>p});var s=t(1980);function a(e){return e?{Authorization:`Token ${e}`}:{}}async function i(e,r){let t=new FormData;return t.append("file",e),(await s.Z.post("/products/upload_csv/",t,{headers:{...a(r),"Content-Type":"multipart/form-data"}})).data}async function o(e,r=1,t){let i={page:r.toString()};return t&&(i.approval_status=t),(await s.Z.get("/products/my_products/",{headers:a(e),params:i})).data}async function n(e,r=1){return(await s.Z.get("/products/pending/",{headers:a(e),params:{page:r}})).data}async function l(e,r){return(await s.Z.post(`/products/${e}/approve/`,{action:"approve"},{headers:a(r)})).data}async function d(e,r,t){return(await s.Z.post(`/products/${e}/approve/`,{action:"reject",rejection_reason:r},{headers:a(t)})).data}async function c(e,r=1,t,i){let o={page:r.toString()};return t&&(o.approval_status=t),i&&(o.search=i),(await s.Z.get("/products/",{headers:a(e),params:o})).data}async function m(e,r=1){return(await s.Z.get("/offers/pending/",{headers:{Authorization:`Token ${e}`},params:{page:r}})).data}async function u(e,r){return(await s.Z.post(`/offers/${e}/approve/`,{},{headers:{Authorization:`Token ${r}`}})).data}async function p(e,r,t){return(await s.Z.post(`/offers/${e}/reject/`,{rejection_reason:r},{headers:{Authorization:`Token ${t}`}})).data}},4143:(e,r,t)=>{"use strict";t.d(r,{$T:()=>l,Iy:()=>a,cU:()=>n,dm:()=>i,xj:()=>d});var s=t(9969);let a=s.Ryn({name:s.Z_8().min(1,"Le nom du produit est requis").min(3,"Le nom doit contenir au moins 3 caract\xe8res").max(200,"Le nom ne peut pas d\xe9passer 200 caract\xe8res"),description:s.Z_8().min(1,"La description est requise").min(500,"La description doit contenir au moins 500 caract\xe8res").max(5e3,"La description ne peut pas d\xe9passer 5000 caract\xe8res"),brand:s.Z_8().max(120,"La marque ne peut pas d\xe9passer 120 caract\xe8res").optional().or(s.i0J("")),category_id:s.G0j([s.Rxh().positive("Cat\xe9gorie invalide"),s.qnd(),s.S1Z()]).transform(e=>"number"!=typeof e||isNaN(e)?void 0:e).optional(),image:s.Z_8().refine(e=>!e||s.Z_8().url().safeParse(e).success,"URL invalide").optional().or(s.i0J("")),tags:s.IXX(s.Z_8().min(1,"Les tags ne peuvent pas \xeatre vides")).max(20,"Maximum 20 tags autoris\xe9s").optional(),specs:s.IMB(s.Z_8(),s.G0j([s.Z_8(),s.Rxh(),s.O72()])).optional(),release_date:s.Z_8().refine(e=>!e||/^\d{4}-\d{2}-\d{2}$/.test(e),"Format de date invalide (YYYY-MM-DD)").optional().or(s.i0J("")),source_category:s.Z_8().max(150,"La cat\xe9gorie source ne peut pas d\xe9passer 150 caract\xe8res").optional().or(s.i0J(""))}),i=s.Ryn({email:s.Z_8().min(1,"L'adresse email est requise").email("Format d'email invalide"),password:s.Z_8().min(1,"Le mot de passe est requis").min(8,"Le mot de passe doit contenir au moins 8 caract\xe8res")}),o=s.Ryn({username:s.Z_8().min(1,"Le nom d'utilisateur est requis").min(3,"Le nom d'utilisateur doit contenir au moins 3 caract\xe8res").max(150,"Le nom d'utilisateur ne peut pas d\xe9passer 150 caract\xe8res").regex(/^[a-zA-Z0-9_]+$/,"Le nom d'utilisateur ne peut contenir que des lettres, chiffres et underscores"),email:s.Z_8().min(1,"L'adresse email est requise").email("Format d'email invalide"),password1:s.Z_8().min(1,"Le mot de passe est requis").min(8,"Le mot de passe doit contenir au moins 8 caract\xe8res").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"),password2:s.Z_8().min(1,"La confirmation du mot de passe est requise"),first_name:s.Z_8().min(1,"Le pr\xe9nom est requis").max(150,"Le pr\xe9nom ne peut pas d\xe9passer 150 caract\xe8res"),last_name:s.Z_8().min(1,"Le nom est requis").max(150,"Le nom ne peut pas d\xe9passer 150 caract\xe8res")}),n=o.extend({enterprise_name:s.Z_8().min(1,"Le nom de l'entreprise est requis").max(200,"Le nom de l'entreprise ne peut pas d\xe9passer 200 caract\xe8res"),address:s.Z_8().min(1,"L'adresse est requise").max(500,"L'adresse ne peut pas d\xe9passer 500 caract\xe8res"),phone_number:s.Z_8().min(1,"Le num\xe9ro de t\xe9l\xe9phone est requis").max(20,"Le num\xe9ro de t\xe9l\xe9phone ne peut pas d\xe9passer 20 caract\xe8res").regex(/^[\d\s\-\+\(\)]+$/,"Le num\xe9ro de t\xe9l\xe9phone contient des caract\xe8res invalides")}).refine(e=>e.password1===e.password2,{message:"Les mots de passe ne correspondent pas",path:["password2"]}),l=o.refine(e=>e.password1===e.password2,{message:"Les mots de passe ne correspondent pas",path:["password2"]});s.Ryn({threshold:s.Z_8().min(1,"Le prix seuil est requis").refine(e=>!isNaN(Number(e))&&Number(e)>0,"Le prix doit \xeatre un nombre positif")});let d=s.Ryn({url:s.Z_8().min(1,"L'URL est requise").url("Format d'URL invalide")});s.Ryn({file:s.PpW(File).refine(e=>e.size<=10485760,"Le fichier ne peut pas d\xe9passer 10MB").refine(e=>e.name.endsWith(".csv"),"Le fichier doit \xeatre un fichier CSV")})},3432:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>i,default:()=>n});var s=t(8570);let a=(0,s.createProxy)(String.raw`/Users/khairallahmohammed/Documents/primini/frontend/app/products/layout.tsx`),{__esModule:i,$$typeof:o}=a;a.default;let n=(0,s.createProxy)(String.raw`/Users/khairallahmohammed/Documents/primini/frontend/app/products/layout.tsx#default`)}};