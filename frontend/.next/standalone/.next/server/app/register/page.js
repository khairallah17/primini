(()=>{var e={};e.id=4011,e.ids=[4011],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},371:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(7203),r(179),r(5866);var t=r(3191),i=r(8716),a=r(7922),o=r.n(a),n=r(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(s,l);let d=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7203)),"/Users/khairallahmohammed/Documents/primini/frontend/app/register/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,179)),"/Users/khairallahmohammed/Documents/primini/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/khairallahmohammed/Documents/primini/frontend/app/register/page.tsx"],m="/register/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4394:(e,s,r)=>{Promise.resolve().then(r.bind(r,7015)),Promise.resolve().then(r.bind(r,933)),Promise.resolve().then(r.bind(r,6618))},7015:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(326),i=r(434),a=r(5047),o=r(7577),n=r(4723),l=r(4064),d=r(6226),c=r(732),m=r(4143);function u(){(0,a.useRouter)();let{register:e}=(0,c.a)(),[s,r]=(0,o.useState)(!1),[u,p]=(0,o.useState)(null),[x,h]=(0,o.useState)("client"),f=(0,n.cI)({resolver:(0,l.F)(m.cU)}),b=(0,n.cI)({resolver:(0,l.F)(m.$T)}),g="client"===x?f:b,w=async s=>{p(null);try{let t={username:s.username,email:s.email,password1:s.password1,password2:s.password2,first_name:s.first_name,last_name:s.last_name,role:x};"client"===x&&(t.enterprise_name=s.enterprise_name,t.address=s.address,t.phone_number=s.phone_number),await e(t),r(!0)}catch(e){if(console.warn("Failed to register",e),e.response?.data){let s=e.response.data;"string"==typeof s?p(s):s.detail?p(s.detail):s.non_field_errors?p(Array.isArray(s.non_field_errors)?s.non_field_errors[0]:s.non_field_errors):p("Une erreur est survenue lors de la cr\xe9ation du compte. Veuillez r\xe9essayer.")}else p("Une erreur est survenue lors de la cr\xe9ation du compte. Veuillez r\xe9essayer.")}},j=e=>{h(e),p(null),f.reset(),b.reset()};if(s){let e="client"===x;return(0,t.jsxs)("div",{className:"grid min-h-svh lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 bg-primary p-4 md:p-6",children:[t.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:t.jsx(i.default,{href:"/",className:"flex items-center gap-2 font-medium",children:t.jsx(d.default,{src:"/images/avito-colors.jpeg",alt:"Avita",width:120,height:40,className:"h-8 w-auto object-contain",priority:!0})})}),t.jsx("div",{className:"flex flex-1 items-center justify-center",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsx("div",{className:"rounded-3xl border border-white/20 bg-white/10 backdrop-blur-sm p-8 shadow-lg",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-secondary/20",children:t.jsx("svg",{className:"h-8 w-8 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Compte cr\xe9\xe9 avec succ\xe8s !"}),e?(0,t.jsxs)(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-white/90",children:"Votre compte a \xe9t\xe9 cr\xe9\xe9 et est en attente d'approbation par un administrateur."}),t.jsx("p",{className:"text-sm text-white/80",children:"Un administrateur vous contactera d\xe8s que votre compte sera activ\xe9."})]}):t.jsx("p",{className:"text-sm text-white/90",children:"Votre compte utilisateur a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s. Vous pouvez maintenant vous connecter."}),t.jsx("div",{className:"pt-4",children:t.jsx(i.default,{href:"/login",className:"inline-block rounded-full bg-secondary px-6 py-3 text-sm font-semibold text-white hover:bg-secondary/90 transition-colors shadow-lg",children:"Retour \xe0 la connexion"})})]})})})})]}),t.jsx("div",{className:"bg-muted relative hidden lg:block",children:t.jsx(d.default,{src:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80",alt:"Cover",fill:!0,className:"object-cover",priority:!0})})]})}return(0,t.jsxs)("div",{className:"grid min-h-svh lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 bg-primary p-4 md:p-6",children:[t.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:t.jsx(i.default,{href:"/",className:"flex items-center gap-2 font-medium",children:t.jsx(d.default,{src:"/images/avito-colors.jpeg",alt:"Avita",width:120,height:40,className:"h-8 w-auto object-contain",priority:!0})})}),t.jsx("div",{className:"flex flex-1 items-center justify-center",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Cr\xe9er un compte"}),t.jsx("p",{className:"text-sm text-white/80",children:"Choisissez le type de compte que vous souhaitez cr\xe9er."})]}),(0,t.jsxs)("div",{className:"flex gap-2 rounded-2xl border border-white/20 bg-white/10 backdrop-blur-sm p-1",children:[t.jsx("button",{type:"button",onClick:()=>j("client"),className:`flex-1 rounded-xl px-4 py-3 text-sm font-semibold transition-all ${"client"===x?"bg-secondary text-white shadow-sm":"text-white/80 hover:text-white"}`,children:"Compte Client"}),t.jsx("button",{type:"button",onClick:()=>j("user"),className:`flex-1 rounded-xl px-4 py-3 text-sm font-semibold transition-all ${"user"===x?"bg-secondary text-white shadow-sm":"text-white/80 hover:text-white"}`,children:"Compte Utilisateur"})]}),(0,t.jsxs)("form",{onSubmit:g.handleSubmit(w),className:"space-y-4",children:[u&&t.jsx("div",{className:"rounded-md bg-red-500/20 border border-red-400/50 p-3 text-sm text-red-100",children:u}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"username",children:"Nom d'utilisateur"}),t.jsx("input",{id:"username",type:"text",...g.register("username"),className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${g.formState.errors.username?"border-red-400":""}`,placeholder:"nom_utilisateur"}),g.formState.errors.username&&t.jsx("p",{className:"text-sm text-red-300",children:g.formState.errors.username.message}),t.jsx("p",{className:"text-xs text-white/70 mt-1",children:"Lettres, chiffres et underscores uniquement (3-150 caract\xe8res)"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"first_name",children:"Pr\xe9nom *"}),t.jsx("input",{id:"first_name",type:"text",...g.register("first_name"),className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${g.formState.errors.first_name?"border-red-400":""}`}),g.formState.errors.first_name&&t.jsx("p",{className:"text-sm text-red-300",children:g.formState.errors.first_name.message})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"last_name",children:"Nom *"}),t.jsx("input",{id:"last_name",type:"text",...g.register("last_name"),className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${g.formState.errors.last_name?"border-red-400":""}`}),g.formState.errors.last_name&&t.jsx("p",{className:"text-sm text-red-300",children:g.formState.errors.last_name.message})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"email",children:"Adresse email *"}),t.jsx("input",{id:"email",type:"email",...g.register("email"),className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${g.formState.errors.email?"border-red-400":""}`,placeholder:"votre@email.com"}),g.formState.errors.email&&t.jsx("p",{className:"text-sm text-red-300",children:g.formState.errors.email.message})]}),"client"===x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"enterprise_name",children:"Nom de l'entreprise *"}),t.jsx("input",{id:"enterprise_name",type:"text",...f.register("enterprise_name"),className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${f.formState.errors.enterprise_name?"border-red-400":""}`,placeholder:"Nom de votre entreprise"}),f.formState.errors.enterprise_name&&t.jsx("p",{className:"text-sm text-red-300",children:f.formState.errors.enterprise_name.message})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"address",children:"Adresse *"}),t.jsx("textarea",{id:"address",...f.register("address"),rows:3,className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${f.formState.errors.address?"border-red-400":""}`,placeholder:"Adresse compl\xe8te de l'entreprise"}),f.formState.errors.address&&t.jsx("p",{className:"text-sm text-red-300",children:f.formState.errors.address.message})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"phone_number",children:"Num\xe9ro de t\xe9l\xe9phone *"}),t.jsx("input",{id:"phone_number",type:"tel",...f.register("phone_number"),className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${f.formState.errors.phone_number?"border-red-400":""}`,placeholder:"+212 6XX XXX XXX"}),f.formState.errors.phone_number&&t.jsx("p",{className:"text-sm text-red-300",children:f.formState.errors.phone_number.message})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"password1",children:"Mot de passe"}),t.jsx("input",{id:"password1",type:"password",...g.register("password1"),className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${g.formState.errors.password1?"border-red-400":""}`}),g.formState.errors.password1&&t.jsx("p",{className:"text-sm text-red-300",children:g.formState.errors.password1.message}),t.jsx("p",{className:"text-xs text-white/70 mt-1",children:"Au moins 8 caract\xe8res avec majuscule, minuscule et chiffre"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-sm font-medium text-white",htmlFor:"password2",children:"Confirmation"}),t.jsx("input",{id:"password2",type:"password",...g.register("password2"),className:`w-full rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm px-4 py-2.5 text-sm text-white placeholder-white/60 focus:border-white/40 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 ${g.formState.errors.password2?"border-red-400":""}`}),g.formState.errors.password2&&t.jsx("p",{className:"text-sm text-red-300",children:g.formState.errors.password2.message})]}),t.jsx("button",{type:"submit",className:"w-full rounded-lg bg-secondary px-4 py-2.5 text-sm font-semibold text-white hover:bg-secondary/90 disabled:opacity-60 transition-colors shadow-lg",disabled:g.formState.isSubmitting,children:g.formState.isSubmitting?"Cr\xe9ation...":`Cr\xe9er un compte ${"client"===x?"client":"utilisateur"}`}),t.jsx("div",{className:"text-center text-sm text-white/80",children:t.jsx(i.default,{href:"/login",className:"text-white hover:text-white transition-colors hover:underline",children:"D\xe9j\xe0 un compte ? Se connecter"})})]})]})})]}),t.jsx("div",{className:"bg-muted relative hidden lg:block",children:t.jsx(d.default,{src:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80",alt:"Cover",fill:!0,className:"object-cover",priority:!0})})]})}},4143:(e,s,r)=>{"use strict";r.d(s,{$T:()=>l,Iy:()=>i,cU:()=>n,dm:()=>a,xj:()=>d});var t=r(9969);let i=t.Ryn({name:t.Z_8().min(1,"Le nom du produit est requis").min(3,"Le nom doit contenir au moins 3 caract\xe8res").max(200,"Le nom ne peut pas d\xe9passer 200 caract\xe8res"),description:t.Z_8().min(1,"La description est requise").min(500,"La description doit contenir au moins 500 caract\xe8res").max(5e3,"La description ne peut pas d\xe9passer 5000 caract\xe8res"),brand:t.Z_8().max(120,"La marque ne peut pas d\xe9passer 120 caract\xe8res").optional().or(t.i0J("")),category_id:t.G0j([t.Rxh().positive("Cat\xe9gorie invalide"),t.qnd(),t.S1Z()]).transform(e=>"number"!=typeof e||isNaN(e)?void 0:e).optional(),image:t.Z_8().refine(e=>!e||t.Z_8().url().safeParse(e).success,"URL invalide").optional().or(t.i0J("")),tags:t.IXX(t.Z_8().min(1,"Les tags ne peuvent pas \xeatre vides")).max(20,"Maximum 20 tags autoris\xe9s").optional(),specs:t.IMB(t.Z_8(),t.G0j([t.Z_8(),t.Rxh(),t.O72()])).optional(),release_date:t.Z_8().refine(e=>!e||/^\d{4}-\d{2}-\d{2}$/.test(e),"Format de date invalide (YYYY-MM-DD)").optional().or(t.i0J("")),source_category:t.Z_8().max(150,"La cat\xe9gorie source ne peut pas d\xe9passer 150 caract\xe8res").optional().or(t.i0J(""))}),a=t.Ryn({email:t.Z_8().min(1,"L'adresse email est requise").email("Format d'email invalide"),password:t.Z_8().min(1,"Le mot de passe est requis").min(8,"Le mot de passe doit contenir au moins 8 caract\xe8res")}),o=t.Ryn({username:t.Z_8().min(1,"Le nom d'utilisateur est requis").min(3,"Le nom d'utilisateur doit contenir au moins 3 caract\xe8res").max(150,"Le nom d'utilisateur ne peut pas d\xe9passer 150 caract\xe8res").regex(/^[a-zA-Z0-9_]+$/,"Le nom d'utilisateur ne peut contenir que des lettres, chiffres et underscores"),email:t.Z_8().min(1,"L'adresse email est requise").email("Format d'email invalide"),password1:t.Z_8().min(1,"Le mot de passe est requis").min(8,"Le mot de passe doit contenir au moins 8 caract\xe8res").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"),password2:t.Z_8().min(1,"La confirmation du mot de passe est requise"),first_name:t.Z_8().min(1,"Le pr\xe9nom est requis").max(150,"Le pr\xe9nom ne peut pas d\xe9passer 150 caract\xe8res"),last_name:t.Z_8().min(1,"Le nom est requis").max(150,"Le nom ne peut pas d\xe9passer 150 caract\xe8res")}),n=o.extend({enterprise_name:t.Z_8().min(1,"Le nom de l'entreprise est requis").max(200,"Le nom de l'entreprise ne peut pas d\xe9passer 200 caract\xe8res"),address:t.Z_8().min(1,"L'adresse est requise").max(500,"L'adresse ne peut pas d\xe9passer 500 caract\xe8res"),phone_number:t.Z_8().min(1,"Le num\xe9ro de t\xe9l\xe9phone est requis").max(20,"Le num\xe9ro de t\xe9l\xe9phone ne peut pas d\xe9passer 20 caract\xe8res").regex(/^[\d\s\-\+\(\)]+$/,"Le num\xe9ro de t\xe9l\xe9phone contient des caract\xe8res invalides")}).refine(e=>e.password1===e.password2,{message:"Les mots de passe ne correspondent pas",path:["password2"]}),l=o.refine(e=>e.password1===e.password2,{message:"Les mots de passe ne correspondent pas",path:["password2"]});t.Ryn({threshold:t.Z_8().min(1,"Le prix seuil est requis").refine(e=>!isNaN(Number(e))&&Number(e)>0,"Le prix doit \xeatre un nombre positif")});let d=t.Ryn({url:t.Z_8().min(1,"L'URL est requise").url("Format d'URL invalide")});t.Ryn({file:t.PpW(File).refine(e=>e.size<=10485760,"Le fichier ne peut pas d\xe9passer 10MB").refine(e=>e.name.endsWith(".csv"),"Le fichier doit \xeatre un fichier CSV")})},7203:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});var t=r(9510);let i=(0,r(8318).default)(()=>r.e(8737).then(r.bind(r,8737)),{loadableGenerated:{modules:["app/register/page.tsx -> ../../components/screens/RegisterScreen"]},ssr:!1});function a(){return t.jsx(i,{})}}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[9797,5414,7325],()=>r(371));module.exports=t})();