(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4457],{1372:function(e,t,r){Promise.resolve().then(r.bind(r,9164)),Promise.resolve().then(r.bind(r,912)),Promise.resolve().then(r.bind(r,1481))},9164:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(7437),a=r(7138),s=r(2265),i=r(1279);function l(e){let{title:t}=e,[r,l]=(0,s.useState)([]),[o,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{!async function(){try{let e=await (0,i.tG)();l(e)}catch(e){console.warn("Failed to load categories",e)}finally{c(!1)}}()},[]);let u=(0,s.useMemo)(()=>r.filter(e=>!e.parent).map(e=>{var t;return{...e,children:null!==(t=e.children)&&void 0!==t?t:[]}}),[r]);return(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("header",{className:"space-y-2",children:[(0,n.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:null!=t?t:"Toutes les cat\xe9gories"}),(0,n.jsx)("p",{className:"text-sm text-slate-500",children:"Naviguez dans les univers Avita et trouvez des produits adapt\xe9s \xe0 vos besoins."})]}),o?(0,n.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:Array.from({length:4}).map((e,t)=>(0,n.jsx)("div",{className:"h-40 animate-pulse rounded-3xl bg-gradient-to-br from-slate-100 to-slate-200"},t))}):(0,n.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:u.map(e=>(0,n.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-primary",children:e.name}),(0,n.jsx)("p",{className:"text-xs text-slate-500",children:"S\xe9lectionnez une sous-cat\xe9gorie pour explorer les offres."})]}),(0,n.jsx)(a.default,{href:"/categories/".concat(e.slug),className:"text-sm font-semibold text-secondary",children:"Afficher tout"})]}),(0,n.jsx)("ul",{className:"mt-4 grid gap-2 text-sm",children:e.children.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)(a.default,{href:"/categories/".concat(e.slug),className:"text-slate-600 hover:text-primary",children:e.name})},e.id))})]},e.id))})]})}},9988:function(e,t,r){"use strict";var n,a=r(8472),s=r(357);let i=a.Z.create({baseURL:null!==(n=s.env.NEXT_PUBLIC_API_URL)&&void 0!==n?n:"http://localhost:8000/api",withCredentials:!1});t.Z=i},1279:function(e,t,r){"use strict";r.d(t,{QQ:function(){return i},R:function(){return a},n3:function(){return l},tG:function(){return o},z6:function(){return s}});var n=r(9988);async function a(e,t){let r={};(null==t?void 0:t.subcategory)&&(r.subcategory=t.subcategory),(null==t?void 0:t.brand)&&(r.brand=t.brand),(null==t?void 0:t.price_min)!==void 0&&(r.price_min=t.price_min.toString()),(null==t?void 0:t.price_max)!==void 0&&(r.price_max=t.price_max.toString()),(null==t?void 0:t.tags)&&t.tags.length>0&&t.tags.forEach(e=>{r.tags=e}),(null==t?void 0:t.ordering)&&(r.ordering=t.ordering),(null==t?void 0:t.page)&&(r.page=t.page.toString()),(null==t?void 0:t.page_size)&&(r.page_size=t.page_size.toString());let a=(await n.Z.get("/categories/".concat(e,"/products/"),{params:r})).data;return{...a,results:a.results.map(e=>{var t;return{...e,lowestPrice:null!==(t=e.lowestPrice)&&void 0!==t?t:e.lowest_price}})}}async function s(e){let t=await n.Z.get("/categories/".concat(e,"/subcategories/"));return Array.isArray(t.data)?t.data:t.data.results||[]}async function i(e,t){let r={};return e&&(r.page=e.toString()),t&&(r.page_size=t.toString()),(await n.Z.get("/categories/parents/",{params:r})).data}async function l(e){return(await n.Z.get("/categories/".concat(e,"/"))).data}async function o(e){let t={};e&&(t.search=e);let r=await n.Z.get("/categories/",{params:{...t,page_size:"1000"}});return Array.isArray(r.data)?r.data:"results"in r.data&&r.data.results||[]}},7138:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(231),a=r.n(n)},912:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let n=r(5592);function a(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return r}},1481:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return s}});let n=r(7437),a=r(8512);function s(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,a.getExpectedRequestStore)("next/dynamic css"),s=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));s.push(...t)}}return 0===s.length?null:(0,n.jsx)(n.Fragment,{children:s.map(e=>(0,n.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[8472,231,2971,7023,1744],function(){return e(e.s=1372)}),_N_E=e.O()}]);